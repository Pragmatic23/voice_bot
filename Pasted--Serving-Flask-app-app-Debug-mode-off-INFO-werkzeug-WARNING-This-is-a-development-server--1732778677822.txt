 * Serving Flask app 'app'
 * Debug mode: off
INFO:werkzeug:WARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://172.31.196.117:5000
INFO:werkzeug:Press CTRL+C to quit
INFO:werkzeug:172.31.196.117 - - [28/Nov/2024 07:23:11] "GET / HTTP/1.1" 200 -
INFO:werkzeug:172.31.196.117 - - [28/Nov/2024 07:23:12] "GET /static/css/style.css HTTP/1.1" 304 -
INFO:werkzeug:172.31.196.117 - - [28/Nov/2024 07:23:12] "GET /static/js/audio.js HTTP/1.1" 200 -
INFO:werkzeug:172.31.196.117 - - [28/Nov/2024 07:23:12] "GET /static/js/chat.js HTTP/1.1" 304 -
INFO:werkzeug:172.31.196.117 - - [28/Nov/2024 07:23:20] "GET / HTTP/1.1" 200 -
INFO:werkzeug:172.31.196.117 - - [28/Nov/2024 07:23:20] "GET /static/css/style.css HTTP/1.1" 200 -
INFO:werkzeug:172.31.196.117 - - [28/Nov/2024 07:23:20] "GET /static/js/audio.js HTTP/1.1" 200 -
INFO:werkzeug:172.31.196.117 - - [28/Nov/2024 07:23:20] "GET /static/js/chat.js HTTP/1.1" 200 -
INFO:werkzeug:172.31.196.117 - - [28/Nov/2024 07:23:21] "GET / HTTP/1.1" 200 -
INFO:werkzeug:172.31.196.117 - - [28/Nov/2024 07:23:21] "GET /static/js/audio.js HTTP/1.1" 304 -
INFO:werkzeug:172.31.196.117 - - [28/Nov/2024 07:23:21] "GET /static/css/style.css HTTP/1.1" 304 -
INFO:werkzeug:172.31.196.117 - - [28/Nov/2024 07:23:21] "GET /static/js/chat.js HTTP/1.1" 304 -
INFO:__main__:New audio processing request received
INFO:__main__:Starting request validation
INFO:__main__:Request headers: {'Host': 'd6bf0c4b-c257-4e5e-b91d-879e28383c93-00-20ykquaqzjz4w.pike.replit.dev', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36', 'Content-Length': '1608', 'Accept': '*/*', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-GB,en-US;q=0.9,en;q=0.8', 'Content-Type': 'multipart/form-data; boundary=----WebKitFormBoundaryfzBz4NwCB6NZFBoW', 'Cookie': 'session=.eJx9Uc1Kw0AQfpWvueQS8gBegtpDA-pBCh5EZE2m3aWbnbi7bQil7-6sKba0xdOQzH6_s88areKnNiGyH7O7933WsIvkYnaXLchaLqCvR4k3PcIEREHCU8O-NW5dYSlsecAgA3XeIahR_peo0bLLIwblIiIfITCxxJNokytklb5eKfTsAuG-APfk0nwoME-bo0qiohKLrquyIvNsSbxuA_nsUFzZn6GOCERdgDUbwsjb3BO02iWmwB1JjLAl8WyihjqFQUs704hQyqFJQOJbhSB2p7c9-cBOWaw9Dwnr2oQhy30nDgS4SnJJi2Q54ltkopF0YA_x2ZB3qT2rIrWJ_Y_xjKbAishi5eloYDM7pZ7sSKcX0R9Vb6Lw8Aq1a436t6elJjQXgHTbFxowJ6uNJEmXThVIDDm5lEM2TGW2U69ibeN4qPCsxi_6LXZ6eCOeieN5wtTGRZfVzYgfhx-vBPDZ.Z0gV3g.ctA-Mez_I0x82oPPr0JU-C6KWng', 'Origin': 'https://d6bf0c4b-c257-4e5e-b91d-879e28383c93-00-20ykquaqzjz4w.pike.replit.dev', 'Referer': 'https://d6bf0c4b-c257-4e5e-b91d-879e28383c93-00-20ykquaqzjz4w.pike.replit.dev/', 'Sec-Ch-Ua': '"Google Chrome";v="131", "Chromium";v="131", "Not_A Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Sec-Ch-Ua-Platform': '"Windows"', 'Sec-Fetch-Dest': 'empty', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Site': 'same-origin', 'X-Forwarded-For': '49.36.57.30, 10.84.1.178', 'X-Forwarded-Proto': 'https', 'X-Replit-User-Bio': '', 'X-Replit-User-Id': '', 'X-Replit-User-Name': '', 'X-Replit-User-Profile-Image': '', 'X-Replit-User-Roles': '', 'X-Replit-User-Teams': '', 'X-Replit-User-Url': ''}
INFO:__main__:Audio file received - Size: 1608 bytes, Type: audio/webm;codecs=opus
INFO:__main__:Parsed content type - Base: audio/webm, Codec: opus
INFO:__main__:Received audio processing request
INFO:__main__:Starting audio processing pipeline
INFO:__main__:Initiating audio transcription
INFO:utils.openai_helper:Starting audio processing
INFO:utils.openai_helper:Converting WebM to WAV format
INFO:utils.openai_helper:Detected audio codec: opus
INFO:utils.openai_helper:Successfully converted WebM to WAV
ERROR:utils.openai_helper:[audio_1732778631332] Audio processing failed: [Errno 2] No such file or directory: '/tmp/tmp74phzibd.wav'
Attempt 1 failed, retrying in 1 seconds...
INFO:utils.openai_helper:Starting audio processing
INFO:utils.openai_helper:Converting WebM to WAV format
ERROR:utils.openai_helper:WebM validation failed: [matroska,webm @ 0x92b0c0] EBML header parsing failed
/tmp/tmp3491dy0z.webm: Invalid data found when processing input

ERROR:utils.openai_helper:[audio_1732778632385] Audio processing failed: Invalid WebM container or unsupported codec
Attempt 2 failed, retrying in 1 seconds...
INFO:utils.openai_helper:Starting audio processing
INFO:utils.openai_helper:Converting WebM to WAV format
ERROR:utils.openai_helper:WebM validation failed: [matroska,webm @ 0x60e0c0] EBML header parsing failed
/tmp/tmpbkwexm34.webm: Invalid data found when processing input

ERROR:utils.openai_helper:[audio_1732778633407] Audio processing failed: Invalid WebM container or unsupported codec
ERROR:__main__:Audio transcription failed
INFO:__main__:Request completed
INFO:werkzeug:172.31.196.117 - - [28/Nov/2024 07:23:53] "POST /process-audio HTTP/1.1" 200 -
INFO:__main__:New audio processing request received
INFO:__main__:Starting request validation
INFO:__main__:Request headers: {'Host': 'd6bf0c4b-c257-4e5e-b91d-879e28383c93-00-20ykquaqzjz4w.pike.replit.dev', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36', 'Content-Length': '2098', 'Accept': '*/*', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-GB,en-US;q=0.9,en;q=0.8', 'Content-Type': 'multipart/form-data; boundary=----WebKitFormBoundary7WXu75GS5XrnMN9B', 'Cookie': 'session=.eJx9Uc1Kw0AQfpWvueQS8gBegtpDA-pBCh5EZE2m3aWbnbi7bQil7-6sKba0xdOQzH6_s88areKnNiGyH7O7933WsIvkYnaXLchaLqCvR4k3PcIEREHCU8O-NW5dYSlsecAgA3XeIahR_peo0bLLIwblIiIfITCxxJNokytklb5eKfTsAuG-APfk0nwoME-bo0qiohKLrquyIvNsSbxuA_nsUFzZn6GOCERdgDUbwsjb3BO02iWmwB1JjLAl8WyihjqFQUs704hQyqFJQOJbhSB2p7c9-cBOWaw9Dwnr2oQhy30nDgS4SnJJi2Q54ltkopF0YA_x2ZB3qT2rIrWJ_Y_xjKbAishi5eloYDM7pZ7sSKcX0R9Vb6Lw8Aq1a436t6elJjQXgHTbFxowJ6uNJEmXThVIDDm5lEM2TGW2U69ibeN4qPCsxi_6LXZ6eCOeieN5wtTGRZfVzYgfhx-vBPDZ.Z0gV3g.ctA-Mez_I0x82oPPr0JU-C6KWng', 'Origin': 'https://d6bf0c4b-c257-4e5e-b91d-879e28383c93-00-20ykquaqzjz4w.pike.replit.dev', 'Referer': 'https://d6bf0c4b-c257-4e5e-b91d-879e28383c93-00-20ykquaqzjz4w.pike.replit.dev/', 'Sec-Ch-Ua': '"Google Chrome";v="131", "Chromium";v="131", "Not_A Brand";v="24"', 'Sec-Ch-Ua-Mobile': '?0', 'Sec-Ch-Ua-Platform': '"Windows"', 'Sec-Fetch-Dest': 'empty', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Site': 'same-origin', 'X-Forwarded-For': '49.36.57.30, 10.84.1.178', 'X-Forwarded-Proto': 'https', 'X-Replit-User-Bio': '', 'X-Replit-User-Id': '', 'X-Replit-User-Name': '', 'X-Replit-User-Profile-Image': '', 'X-Replit-User-Roles': '', 'X-Replit-User-Teams': '', 'X-Replit-User-Url': ''}
INFO:__main__:Audio file received - Size: 2098 bytes, Type: audio/webm;codecs=opus
INFO:__main__:Parsed content type - Base: audio/webm, Codec: opus
INFO:__main__:Received audio processing request
INFO:__main__:Starting audio processing pipeline
INFO:__main__:Initiating audio transcription
INFO:utils.openai_helper:Starting audio processing
INFO:utils.openai_helper:Converting WebM to WAV format
INFO:utils.openai_helper:Detected audio codec: opus
INFO:utils.openai_helper:Successfully converted WebM to WAV
ERROR:utils.openai_helper:[audio_1732778657379] Audio processing failed: [Errno 2] No such file or directory: '/tmp/tmpls65dygf.wav'
Attempt 1 failed, retrying in 1 seconds...
INFO:utils.openai_helper:Starting audio processing
INFO:utils.openai_helper:Converting WebM to WAV format
ERROR:utils.openai_helper:WebM validation failed: [matroska,webm @ 0x16bb0c0] EBML header parsing failed
/tmp/tmpsxtmuav6.webm: Invalid data found when processing input

ERROR:utils.openai_helper:[audio_1732778658436] Audio processing failed: Invalid WebM container or unsupported codec
Attempt 2 failed, retrying in 1 seconds...
INFO:utils.openai_helper:Starting audio processing
INFO:utils.openai_helper:Converting WebM to WAV format
ERROR:utils.openai_helper:WebM validation failed: [matroska,webm @ 0x10630c0] EBML header parsing failed
/tmp/tmpunfxvbyx.webm: Invalid data found when processing input

ERROR:utils.openai_helper:[audio_1732778659458] Audio processing failed: Invalid WebM container or unsupported codec
ERROR:__main__:Audio transcription failed
INFO:__main__:Request completed
INFO:werkzeug:172.31.196.117 - - [28/Nov/2024 07:24:19] "POST /process-audio HTTP/1.1" 200 -
